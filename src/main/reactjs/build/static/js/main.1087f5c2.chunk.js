(this.webpackJsonpreactjs=this.webpackJsonpreactjs||[]).push([[0],{39:function(e,t,a){},40:function(e,t,a){},60:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(33),i=a.n(r),c=(a(39),a(9)),o=a(10),l=a(12),h=a(11),u=(a(40),a(17)),j=a(2),b=a(15),m=a.n(b),d=a(18),p=a(8),O=a(13),g=a(21),x=a.n(g),v=(a(60),a(61),a(1)),f=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).userEmpty={username:"",email:"",pass:""},s.state={item:s.userEmpty,errors:{}},s.handleChange=s.handleChange.bind(Object(O.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(O.a)(s)),s}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,s=t.name,n=Object(p.a)({},this.state.item);n[s]=a,this.setState({item:n})}},{key:"handleSubmit",value:function(){var e=Object(d.a)(m.a.mark((function e(t){var a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=this.state.item,s=this.state.errors,this.state.item.pass.length<1&&this.setState({errors:Object(p.a)(Object(p.a)({},s),{},{pass:"Password can't be empty",email:""})}),this.state.item.email.length<1&&this.setState({errors:Object(p.a)(Object(p.a)({},s),{},{email:"E-mail can't be empty",username:""}),input:"2px solid red;"}),!(this.state.item.username.length<1)){e.next=9;break}this.setState({errors:Object(p.a)(Object(p.a)({},s),{},{username:"Username can't be empty"})}),e.next=15;break;case 9:if(!(this.state.item.username.length>1&&this.state.item.email.length>1&&this.state.item.pass.length>1)){e.next=15;break}return this.setState({errors:{}}),console.log(a),e.next=14,fetch("http://localhost:8443/register",{method:"POST",mode:"no-cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:a}).then((function(e){return e.ok||console.log(e.statusText),e})).then((function(e){localStorage.setItem("authorization",e.data.token)}));case 14:this.setState({item:this.userEmpty});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.item,t=(this.state.errors,{fontSize:13,marginLeft:14,color:"red"});return Object(v.jsx)("div",{className:"wrapper",children:Object(v.jsx)("div",{className:"frm",children:Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsxs)("div",{children:[this.state.errors.username&&Object(v.jsx)("p",{style:t,children:"Username required"}),Object(v.jsx)("input",{type:"text",name:"username",value:e.username,placeholder:"Username",onChange:this.handleChange})]}),Object(v.jsxs)("div",{children:[this.state.errors.email&&Object(v.jsx)("p",{style:t,children:"Email required"}),Object(v.jsx)("input",{type:"email",name:"email",value:e.email,placeholder:"E-mail",onChange:this.handleChange})]}),Object(v.jsxs)("div",{children:[this.state.errors.pass&&Object(v.jsx)("p",{style:t,children:"Password required"}),Object(v.jsx)("input",{type:"password",name:"pass",value:e.pass,placeholder:"Password",onChange:this.handleChange})]}),Object(v.jsx)("input",{type:"submit",value:"Submit"})]})})})}}]),a}(s.Component),y=(a(63),x.a.create({baseURL:"https://localhost:8443/",headers:{"content-type":"application/json;charset=utf-8"},withCredentials:!0})),C=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).userEmpty={username:"",pass:""},s.submit=Object(d.a)(m.a.mark((function e(){var t,a,n,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/login");case 2:for(t=e.sent,console.log(t),a=t.data.users,n=s.state.user,r=s.state.errors,i=0;i<a.length;i++)a[i].username.localeCompare(n.username)&&a[i].password.localeCompare(n.pass)?console.log("exists"):s.setState({errors:Object(p.a)(Object(p.a)({},r),{},{error:"Username or password wrong"})});s.setState({user:s.userEmpty,errors:{}});case 9:case"end":return e.stop()}}),e)}))),s.state={users:[],errors:{},user:{username:"",pass:""}},s.handleChange=s.handleChange.bind(Object(O.a)(s)),s.submit=s.submit.bind(Object(O.a)(s)),s}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,s=t.name,n=Object(p.a)({},this.state.user);n[s]=a,this.setState({user:n})}},{key:"render",value:function(){var e=this.state.user;this.state.errors;return Object(v.jsx)("div",{className:"wrapper",children:Object(v.jsx)("div",{className:"frm",children:Object(v.jsxs)("form",{onSubmit:this.submit,children:[Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"text",name:"username",value:e.username,placeholder:"Username",onChange:this.handleChange})}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"password",name:"pass",value:e.pass,placeholder:"Password",onChange:this.handleChange})}),this.state.errors.error&&Object(v.jsx)("p",{style:{fontSize:13,marginLeft:14,color:"red"},children:"Username or password wrong"}),Object(v.jsx)("input",{type:"submit",value:"Submit"})]})})})}}]),a}(s.Component),S=(a(64),function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"bdy",children:Object(v.jsx)("h1",{children:"Welcome!"})})}}]),a}(s.Component)),w=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={color:"lightgray",color1:"lightgray",color2:"lightgray"},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsxs)(u.a,{children:[Object(v.jsx)("nav",{className:"navb",children:Object(v.jsx)("div",{className:"container-fluid",children:Object(v.jsxs)("ul",{className:"nav navbar-nav",children:[Object(v.jsx)("li",{children:Object(v.jsx)("h3",{children:"Study Room"})}),Object(v.jsx)("li",{children:Object(v.jsx)(u.b,{to:"/",children:"Home"})}),Object(v.jsx)("li",{children:Object(v.jsx)(u.b,{to:"/login",children:"Login"})}),Object(v.jsx)("li",{children:Object(v.jsx)(u.b,{to:"/register",children:"Register"})})]})})}),Object(v.jsx)(j.a,{exact:!0,path:"/",component:S}),Object(v.jsx)(j.a,{path:"/login",component:C}),Object(v.jsx)(j.a,{path:"/register",component:f})]})}}]),a}(s.Component),k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,71)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),r(e),i(e)}))};i.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(w,{})}),document.getElementById("root")),k()}},[[70,1,2]]]);
//# sourceMappingURL=main.1087f5c2.chunk.js.map